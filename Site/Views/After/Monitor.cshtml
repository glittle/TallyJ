@using TallyJ.Code.Enumerations
@using TallyJ.Code.Session
@model MonitorModel
@{
    ViewBag.Title = "Election Monitor";
    ViewBag.Message = "What's Happening?";

    ContextItems.AddJavascriptForPage("pageUrl", "monitorPage.controllerUrl={0};".FilledWith(Url.Action("Index").QuotedForJavascript()));
    ContextItems.AddJavascriptForPage("locations", "monitorPage.LocationInfos={0};".FilledWith(Model.LocationInfoJson));
    ContextItems.AddJavascriptForPage("guest", "monitorPage.isGuest={0};".FilledWith(UserSession.IsGuestTeller.SerializedAsJsonString()));
}
<div style="padding-bottom: 15px;">
    Election Status:
    <select id="ddlElectionStatus">
        <option value="">Please select...</option>
        @ElectionTallyStatusEnum.ForHtmlSelect(UserSession.CurrentElection.TallyStatus)
    </select>
</div>
<table class="Main">
    <thead>
        <tr>
            <th>
                Location
            </th>
            <th>
                Status
            </th>
            <th>
                Computer
            </th>
            <th>
                # Ballots
            </th>
            <th>
                View
            </th>
            <th>
                Minutes Ago
            </th>
            <th>
                Contact Info
            </th>
        </tr>
    </thead>
    <tbody id="mainBody">
        <tr>
            <th rowspan="{rows}">
                {Name}
            </th>
            <td rowspan="{rows}">
              {TallyStatus}
              {Ballot1}
            </td>
            <td>
                {ComputerCode}
            </td>
            <td>
                {Ballots}
            </td>
            <td>
                {Btn}
            </td>
            <td>
                <span class="minutesOld" data-start="{MinutesOld}">{MinutesOld}</span>
            </td>
            <td rowspan="{rows}">
                {ContactInfo}
            </td>
        </tr>
        <tr>
            <td>
                {ComputerCode}
            </td>
            <td>
                {Ballots}
            </td>
            <td>
                {Btn}
            </td>
            <td>
                <span class="minutesOld" data-start="{MinutesOld}">{MinutesOld}</span>
            </td>
        </tr>
    </tbody>
</table>
<div class="AutoButtons">
    <input type="checkbox" id="chkAutoRefresh" />
    <span>Auto-refresh every </span>
    <select id="ddlRefresh">
        <option value="10">10 seconds</option>
        <option value="15">20 seconds</option>
        <option value="30">30 seconds</option>
        <option value="60">minute</option>
        <option value="120">2 minutes</option>
    </select>
    <button type="button" id="btnRefesh">
        Refresh Now</button>
    <span id="lastRefresh"></span>
</div>
<div>
  <input type="checkbox" id="chkList" @(UserSession.CurrentElection.ListForPublic.AsBool() ? " checked" : "") /><label for="chkList">Show on TallyJ welcome screen</label>
</div>